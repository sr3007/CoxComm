<script src='../SiteAssets/coxone/js/CCI-ModalPreference.js' type='text/javascript'></script>
<!--<script src='../SiteAssets/COXOne/CustomHtml/CCI_Preferences.js' type='text/javascript'></script>-->
<!--<link rel="stylesheet" type="text/css" href="https://mod223137.sharepoint.com/sites/coxone/SiteAssets/COXOne/CustomHtml/ModalCustomPreference.css" />-->


<div class="Newsbtn">
    <a class="btn" onclick="javascript: OpenNewsPreferenceDialog();">Customize Your News<img class="customGear" src="../Style Library/coxone/images/preferences Gear.png" alt="preferences Gear"></a>
</div>

<script type="text/javascript">
    function OpenNewsPreferenceDialog() {
        SP.SOD.executeOrDelayUntilScriptLoaded(function () {
            var element = document.createElement('div');
            element.innerHTML = '<div class="container main_warpper" id="preferenceDiv">\
    <div class="row">\
        <div class="col-sm-12 box_warp">\
            <div class="panel panel-default clearfix">'+
                //<a class="btn" data-popup-open="popup-1" href="#">Customize Your News</a>\
                '<div id="NewsPopup" data-popup="popup-1">\
                    <div class="row" id="NewsPreference">\
                        <div class="col-xs-6 col-sm-4">\
                            <h1>News<br /></h1>​​<span style="line-height: 1.6;">Customize CoxOne News to keep you up-to-date on what matters to you!</span>\
                            <p>Toggle Categories and Topics on and off to select what interests you.</p>\
                            <p>Using these selections helps customize the entire site to fit you.</p>\
                            <div class="text-center">\
                                All On\
                                <label class="switch">\
                                    <input type="checkbox" id="chkboxOnOff" onclick="javascript: CCI.NewsPreference.SelectDeSelectCheckBox(true);">\
                                    <div class="slider round"></div>\
                                </label>\
                                All Off<br />\
                            </div>\
                            <div class="text-center"><button class="newsPref" type="button" onclick="javascript: CCI.NewsPreference.SavePreferences(event);">​Apply​​​</button>&nbsp;&nbsp;<button class="newsPref" type="button" onclick="javascript: CCI.NewsPreference.CancelUserSelection();">​Cancel​​​</button></div>\
                        </div>\
                        <div class="col-xs-6 col-sm-4">\
                            <h1>Com​pany</h1>\
                            <ul id="companyDiv"></ul>\
                        <h1>​COE<br /></h1>\
                        <ul id="coeDiv">\
                        </ul>\
                    <h1>​Departments</h1>\
                    <ul id="departmentsDiv"></ul>\
                    <h1>Divisions<br /></h1>\
                    <ul id="divisionDiv"></ul>\
                </div>\
                <div class="clearfix visible-xs-block">\
                </div>\
                <div class="col-xs-6 col-sm-4">\
                    <h1>Locations​<br /></h1>\
                    <ul id="locationsDiv"></ul>\
                    <h1>Topics<br /></h1>\
                    <ul id="topicsDiv"></ul>\
                    <h1>Industry</h1>\
                    <ul id="industryDiv"></ul>\
                    <div class="text-left">\
                    </div>\
                </div>\
            </div>\
        </div>\
    </div>\
</div>\
    </div>\
</div>';
            var modaloptions = {
                html: element,
                title: 'Customize your News Preferences',
                allowMaximize: false,
                width: 700,
                height: 460,
                showClose: true
                };
            SP.SOD.execute('sp.ui.dialog.js', 'SP.UI.ModalDialog.showModalDialog', modaloptions);
            //CCI.NewsPreference.init();
            CCI.NewsPreference.loadPreferenceTermSet(CCI.NewsPreference.createPreferenceGrid, CCI.NewsPreference.failNavigation);
        }, "SP.js");
    }
    
</script>


